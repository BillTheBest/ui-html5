<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml" class="manywho" style="height: 100%">
<head>
	<meta charset="utf-8" />
	<meta name="msapplication-tap-highlight" content="no" />
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, target-densitydpi=device-dpi">
	<title>ManyWho</title>
</head>
<body style="height: 100%">
<div id="manywho">
	<div id="loader" class="mw-bs" style="width: 100%; height: 100%;">
		<div class="wait-container">
			<div class="wait-spinner"></div>
		</div>
	</div>
</div>

<link rel="stylesheet" href="{{directory}}build/css/mw-bootstrap.css" />
<link rel="stylesheet" href="{{directory}}build/css/themes/mw-paper.css" id="theme" />

<link rel="stylesheet" href="{{directory}}build/css/lib/bootstrap-datetimepicker.css" />
<link rel="stylesheet" href="{{directory}}build/css/lib/jquery.textcomplete.css" />
<link rel="stylesheet" href="{{directory}}build/css/lib/react-selectize.css" />
<link rel="stylesheet" href="{{directory}}build/css/containers.css" />
<link rel="stylesheet" href="{{directory}}build/css/select.css" />
<link rel="stylesheet" href="{{directory}}build/css/textarea.css" />
<link rel="stylesheet" href="{{directory}}build/css/table.css" />
<link rel="stylesheet" href="{{directory}}build/css/input.css" />
<link rel="stylesheet" href="{{directory}}build/css/outcome.css" />
<link rel="stylesheet" href="{{directory}}build/css/loading.css" />
<link rel="stylesheet" href="{{directory}}build/css/modal.css" />
<link rel="stylesheet" href="{{directory}}build/css/group.css" />
<link rel="stylesheet" href="{{directory}}build/css/pagination.css" />
<link rel="stylesheet" href="{{directory}}build/css/notifications.css" />
<link rel="stylesheet" href="{{directory}}build/css/navigation.css" />
<link rel="stylesheet" href="{{directory}}build/css/feed.css" />
<link rel="stylesheet" href="{{directory}}build/css/files.css" />
<link rel="stylesheet" href="{{directory}}build/css/debug.css" />
<link rel="stylesheet" href="{{directory}}build/css/content.css" />
<link rel="stylesheet" href="{{directory}}build/css/status.css" />
<link rel="stylesheet" href="{{directory}}build/css/radio.css" />
<link rel="stylesheet" href="{{directory}}build/css/returnToParent.css" />
<link rel="stylesheet" href="{{directory}}build/css/history.css" />
<link rel="stylesheet" href="{{directory}}build/css/footer.css" />
<link rel="stylesheet" href="{{directory}}build/css/list.css" />
<link rel="stylesheet" href="{{directory}}build/css/flip.css" />
<link rel="stylesheet" href="{{directory}}build/css/tiles.css" />
<link rel="stylesheet" href="{{directory}}build/css/items.css" />
<link rel="stylesheet" href="{{directory}}build/css/toggle.css" />
<link rel="stylesheet" href="{{directory}}build/css/outcomes.css" />
<link rel="stylesheet" href="{{directory}}build/css/chart.css" />

{{cordova}}

<script src="{{directory}}js/vendor/jquery-2.1.4.min.js"></script>
<script src="{{directory}}js/vendor/bootstrap-3.3.6.min.js"></script>
<script src="{{directory}}js/vendor/react-0.14.6.min.js"></script>
<script src="{{directory}}js/vendor/react-dom-0.14.6.min.js"></script>
<script src="{{directory}}js/vendor/socket.io-1.4.5.js"></script>
<script src="{{directory}}js/vendor/moment-with-locales-2.10.6.min.js"></script>
<script src="{{directory}}js/vendor/loglevel-1.4.0.min.js"></script>

<script>

	// Prevent the Cordova back button
	document.addEventListener("backbutton", onBackKeyDown, false);
	function onBackKeyDown(e) {
		e.preventDefault();
	}

	function handleString(string) {
		if (manywho.utils.isNullOrWhitespace(string) == false) {
			return '"' + string + '"';
		} else {
			return 'null';
		}
	}

	var offline = {};

	var objectDataRequests = [];
	var fileDataRequests = [];

	var manywho = {
		cdnUrl: '',
		initialize: function () {

			var queryParameters = manywho.utils.parseQueryString(window.location.search.substring(1));

			if (queryParameters['offline'] == 'true') {

				manywho.connection.setOnlineOverride({
					isOnline: false,
					override: true
				});

			}

			var backendUri = 'https://flow.manywho.com';
			var manywhoAdminTenantId = 'da497693-4d02-45db-bc08-8ea16d2ccbdf';

			// Values specific to the flow
			var tenantId = '{{tenantId}}';
			var flowId = '{{flowId}}';
			var flowVersionId = '{{flowVersionId}}';

			manywho.settings.initialize({
				adminTenantId: manywhoAdminTenantId,
				playerUrl: {{playJoinUrl}},
				joinUrl: {{playJoinUrl}},
				platform: {
					uri: backendUri
				}
			});

			var options = {
				authentication: {
					sessionId: null,
					sessionUrl: null
				},
				navigationElementId: null,
				mode: null,
				reportingMode: null,
				trackLocation: false,
				replaceUrl: false,
				collaboration: {
					isEnabled: false
				},
				autoFocusInput: true,
				inputs: null,
				annotations: null,
				navigation: {
					isFixed: true,
					isWizard: false
				},
				offline: {
					isEnabled: true,
					isCordova: {{isCordova}}
				},
				callbacks: [],
				collapsible: false,
				history: null,
				theme: null
			};

			manywho.theming.apply('sf1');

			manywho.log.enableAll();

			{{initializeCall}}

		}
	};

</script>

<script src="{{directory}}build/js/lib/000-react-height.js"></script>
<script src="{{directory}}build/js/lib/010-pollyfills.js"></script>
<script src="{{directory}}build/js/lib/015-chart.js"></script>
<script src="{{directory}}build/js/lib/020-jquery.plugins.js"></script>
<script src="{{directory}}build/js/lib/030-react-input-autosize.js"></script>
<script src="{{directory}}build/js/lib/040-react-dropzone.js"></script>
<script src="{{directory}}build/js/lib/050-classNames.js"></script>
<script src="{{directory}}build/js/lib/060-prelude-browser.js"></script>
<script src="{{directory}}build/js/lib/070-prelude-extension.js"></script>
<script src="{{directory}}build/js/lib/080-tether.js"></script>
<script src="{{directory}}build/js/lib/090-react-selectize.js"></script>
<script src="{{directory}}build/js/lib/100-datetimepicker.js"></script>
<script src="{{directory}}build/js/lib/110-react-motion.js"></script>
<script src="{{directory}}build/js/lib/120-react-collapse.js"></script>
<script src="{{directory}}build/js/lib/130-jquery.textcomplete.js"></script>
<script src="{{directory}}build/js/lib/140-numbro.js"></script>
<script src="{{directory}}build/js/lib/150-numbro-languages.js"></script>

<script src="{{directory}}build/js/services/ajax.js"></script>
<script src="{{directory}}build/js/services/model.js"></script>
<script src="{{directory}}build/js/services/component.js"></script>
<script src="{{directory}}build/js/services/styling.js"></script>
<script src="{{directory}}build/js/services/collaboration.js"></script>
<script src="{{directory}}build/js/services/state.js"></script>
<script src="{{directory}}build/js/services/engine.js"></script>
<script src="{{directory}}build/js/services/theming.js"></script>
<script src="{{directory}}build/js/services/settings.js"></script>
<script src="{{directory}}build/js/services/json.js"></script>
<script src="{{directory}}build/js/services/utils.js"></script>
<script src="{{directory}}build/js/services/authorization.js"></script>
<script src="{{directory}}build/js/services/callbacks.js"></script>
<script src="{{directory}}build/js/services/social.js"></script>
<script src="{{directory}}build/js/services/log.js"></script>
<script src="{{directory}}build/js/services/formatting.js"></script>

<!-- Extension services -->
<script src="{{directory}}build/js/services/connection.js"></script>
<script src="{{directory}}build/js/services/graph.js"></script>
<script src="{{directory}}build/js/services/offline.js"></script>
<script src="{{directory}}build/js/services/recording.js"></script>
<script src="{{directory}}build/js/services/responses.js"></script>
<script src="{{directory}}build/js/services/simulation.js"></script>
<script src="{{directory}}build/js/services/storage-{{storage}}.js"></script>
<!-- Extension services -->

<script src="{{directory}}build/js/components/container.js"></script>
<script src="{{directory}}build/js/components/mixins.js"></script>
<script src="{{directory}}build/js/components/main.js"></script>
<script src="{{directory}}build/js/components/navigation.js"></script>
<script src="{{directory}}build/js/components/group.js"></script>
<script src="{{directory}}build/js/components/inline.js"></script>
<script src="{{directory}}build/js/components/vertical.js"></script>
<script src="{{directory}}build/js/components/horizontal.js"></script>
<script src="{{directory}}build/js/components/presentation.js"></script>
<script src="{{directory}}build/js/components/input.js"></script>
<script src="{{directory}}build/js/components/textarea.js"></script>
<script src="{{directory}}build/js/components/content.js"></script>
<script src="{{directory}}build/js/components/outcome.js"></script>
<script src="{{directory}}build/js/components/select.js"></script>
<script src="{{directory}}build/js/components/table-container.js"></script>
<script src="{{directory}}build/js/components/table-large.js"></script>
<script src="{{directory}}build/js/components/table-small.js"></script>
<script src="{{directory}}build/js/components/table-input.js"></script>
<script src="{{directory}}build/js/components/feed.js"></script>
<script src="{{directory}}build/js/components/pagination.js"></script>
<script src="{{directory}}build/js/components/wait.js"></script>
<script src="{{directory}}build/js/components/modal.js"></script>
<script src="{{directory}}build/js/components/notifications.js"></script>
<script src="{{directory}}build/js/components/file-upload.js"></script>
<script src="{{directory}}build/js/components/debug.js"></script>
<script src="{{directory}}build/js/components/status.js"></script>
<script src="{{directory}}build/js/components/voting.js"></script>
<script src="{{directory}}build/js/components/image.js"></script>
<script src="{{directory}}build/js/components/returnToParent.js"></script>
<script src="{{directory}}build/js/components/radio.js"></script>
<script src="{{directory}}build/js/components/history.js"></script>
<script src="{{directory}}build/js/components/footer.js"></script>
<script src="{{directory}}build/js/components/hidden.js"></script>
<script src="{{directory}}build/js/components/list.js"></script>
<script src="{{directory}}build/js/components/iframe.js"></script>
<script src="{{directory}}build/js/components/flip.js"></script>
<script src="{{directory}}build/js/components/login.js"></script>
<script src="{{directory}}build/js/components/items-header.js"></script>
<script src="{{directory}}build/js/components/items-container.js"></script>
<script src="{{directory}}build/js/components/tiles.js"></script>
<script src="{{directory}}build/js/components/toggle.js"></script>
<script src="{{directory}}build/js/components/chart.js"></script>
<script src="{{directory}}build/js/components/chart-base.js"></script>
<script src="{{directory}}build/js/components/chart-bar.js"></script>
<script src="{{directory}}build/js/components/chart-line.js"></script>
<script src="{{directory}}build/js/components/chart-pie.js"></script>
<script src="{{directory}}build/js/components/chart-polar.js"></script>
<script src="{{directory}}build/js/components/chart-doughnut.js"></script>
<script src="{{directory}}build/js/components/chart-container.js"></script>
<script src="{{directory}}build/js/components/outcomes.js"></script>
<script src="{{directory}}build/js/components/input-datetime.js"></script>
<script src="{{directory}}build/js/components/input-boolean.js"></script>
<script src="{{directory}}build/js/components/input-number.js"></script>

<!-- Extension components -->
<script src="{{directory}}build/js/components/recordings.js"></script>
<script src="{{directory}}build/js/components/data-sync.js"></script>
<!-- Extension components -->

<!-- Overrides -->
{{overrides}}
<!-- Overrides -->

<!-- Config -->
<script src="../js/config/data-sync-{{build}}.js"></script>
<script src="../js/config/responses-{{build}}.js"></script>
<script src="../js/config/sequences-{{build}}.js"></script>
<script src="../js/config/snapshot-{{build}}.js"></script>
<script src="../js/config/default-{{build}}.js"></script>
<!-- Config -->

<!-- Extensions -->
{{extensions}}
<!-- Extensions -->

<script>
	manywho.initialize();
</script>
</body>
</html>
