<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>ManyWho React UI</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.1/paper/bootstrap.min.css" id="theme">

    <!-- build:css -->
    <link rel="stylesheet" href="css/wait.css" />
    <link rel="stylesheet" href="css/containers.css" />
    <!-- endbuild -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.12.2/react.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/loglevel/1.2.0/loglevel.min.js"></script>

    <script>
        var manywho = {};
    </script>

    <!-- build:log -->
    <script>
        log.enableAll()
    </script>
    <!-- endbuild -->

    <!-- build:js -->
    <script src="js/testdata.js"></script>
    <script src="js/testnavdata.js"></script>

    <script src="js/lib/bcsocket.js"></script>
    <script src="js/lib/share.js"></script>

    <script src="js/services/engine.js"></script>
    <script src="js/services/model.js"></script>
    <script src="js/services/component.js"></script>
    <script src="js/services/styling.js"></script>
    <script src="js/services/collaboration.js"></script>
    <script src="js/services/state.js"></script>
    <script src="js/services/view.js"></script>
    <script src="js/services/themeing.js"></script>
    <script src="js/services/settings.js"></script>
    <script src="js/services/json.js"></script>

    <script src="js/components/main.js"></script>
    <script src="js/components/navigation.js"></script>
    <script src="js/components/group.js"></script>
    <script src="js/components/inline.js"></script>
    <script src="js/components/vertical.js"></script>
    <script src="js/components/horizontal.js"></script>
    <script src="js/components/presentation.js"></script>
    <script src="js/components/input.js"></script>
    <script src="js/components/textarea.js"></script>
    <script src="js/components/outcome.js"></script>
    <!-- endbuild -->

</head>
<body>    
    <script>

        // The info needed to execute the Flow
        manywho.model.setTenantId('870bc2ae-2e02-42c0-abc3-46ab584522c7');

        var flowId = {
            'id':'b7e2a056-35dd-4973-b279-c85aeafb299c',
            'versionId':'8cae4f4e-39d1-4751-8eba-2935e27434ba'
        };

        // Create the engine initialization request
        var engineInitializationRequest = manywho.json.generateInitializationRequest(flowId, 'something');
        
        manywho.settings.initialize();
        manywho.themeing.initialize();
        manywho.view.initialize();

        // Now initialize the engine and kick off the flow
        manywho.engine.initialize(
                engineInitializationRequest,
                function(engineInitializationResponse) {

                    manywho.collaboration.initialize(engineInitializationResponse.stateId);

                    manywho.engine.invoke(
                            manywho.json.generateInvokeRequest(engineInitializationResponse, 'FORWARD'),
                            function (engineInvokeResponse) {

                                manywho.view.create();

                            }
                    );

                }
        );

    </script>

</body>
</html>