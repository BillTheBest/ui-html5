<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>ManyWho React UI</title>

    <style>
        html, body, #manywho {
            width: 100%;
            height: 100%;
        }

        body {
            margin: 0;
        }
    </style>

    <!-- build:boostrap -->
    <link rel="stylesheet" href="css/mw-bootstrap.css" />
    <link rel="stylesheet" href="css/themes/mw-paper.css" id="theme" />
    <!-- endbuild -->
    
    <!-- build:css -->
    <link rel="stylesheet" href="css/lib/bootstrap-chosen.css" />
    <link rel="stylesheet" href="css/wait.css" />
    <link rel="stylesheet" href="css/containers.css" />
    <link rel="stylesheet" href="css/select.css" />
    <link rel="stylesheet" href="css/textarea.css" />
    <link rel="stylesheet" href="css/table.css" />
    <link rel="stylesheet" href="css/input.css" />
    <link rel="stylesheet" href="css/outcome.css" />
    <link rel="stylesheet" href="css/loading.css" />
    <!-- endbuild -->
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.12.2/react.min.js"></script>
    <script src="https://cdn.socket.io/socket.io-1.3.2.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.1.0/chosen.jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-growl/1.0.0/jquery.bootstrap-growl.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/loglevel/1.2.0/loglevel.min.js"></script>
    
    <script>
        var manywho = {};
    </script>

    <!-- build:log -->
    <script>
        log.enableAll()
    </script>
    <!-- endbuild -->

    <!-- build:js -->
    <script src="js/lib/react-chosen.js"></script>

    <script src="js/services/ajax.js"></script>
    <script src="js/services/model.js"></script>
    <script src="js/services/component.js"></script>
    <script src="js/services/styling.js"></script>
    <script src="js/services/collaboration.js"></script>
    <script src="js/services/state.js"></script>
    <script src="js/services/engine.js"></script>
    <script src="js/services/themeing.js"></script>
    <script src="js/services/settings.js"></script>
    <script src="js/services/json.js"></script>
    <script src="js/services/utils.js"></script>

    <script src="js/components/main.js"></script>
    <script src="js/components/navigation.js"></script>
    <script src="js/components/group.js"></script>
    <script src="js/components/inline.js"></script>
    <script src="js/components/vertical.js"></script>
    <script src="js/components/horizontal.js"></script>
    <script src="js/components/presentation.js"></script>
    <script src="js/components/input.js"></script>
    <script src="js/components/textarea.js"></script>
    <script src="js/components/outcome.js"></script>
    <script src="js/components/select.js"></script>
    <script src="js/components/table.js"></script>
    <!-- endbuild -->

    <!-- options -->
</head>
<body>    
    <script>

        var queryParameters = manywho.utils.parseQueryString(window.location.search.substring(1));

        var options = {
            tenantId: queryParameters['tenant-id'],
            // Replace this with the admin tenant ID from the constants file
            adminTenantId: 'da497693-4d02-45db-bc08-8ea16d2ccbdf',
            flowId: {
                id: queryParameters['flow-id'],
                versionId: queryParameters['flow-version-id']
            },
            stateId: queryParameters['join'],
            navigationElementId: queryParameters['navigation-element-id'],
            authentication: {
                sessionId: queryParameters['session-token'],
                sessionUrl: queryParameters['session-url'],
                token: queryParameters['authorization']
            },
            mode: queryParameters['mode'],
            reportingMode: queryParameters['reporting-mode'],
            trackLocation: false,
            replaceUrl: false,
            collaboration: {
                isEnabled: false
            },
            playerUrl: document.URL,
            inputs: null,
            annotations: null
        };

        manywho.settings.initialize($.extend(options, window.devOptions || {}));
        manywho.engine.initialize();

    </script>
    
    <div id="manywho"></div>
</body>
</html>